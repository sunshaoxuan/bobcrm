2025-10-30 12:21:37.950 +09:00 [INF] ============================================
2025-10-30 12:21:37.962 +09:00 [INF] Application starting at "2025-10-30T12:21:37.9600803+09:00", log file: C:\workspace\bobcrm\src\BobCrm.Api\..\..\logs\api_20251030_122137.log
2025-10-30 12:21:37.964 +09:00 [INF] ============================================
2025-10-30 12:21:38.421 +09:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-30 12:21:38.509 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Customers" AS c
2025-10-30 12:21:38.522 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "LocalizationLanguages" ("Id" SERIAL PRIMARY KEY, "Code" text NOT NULL, "NativeName" text NOT NULL);
2025-10-30 12:21:38.550 +09:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

                    CREATE TABLE IF NOT EXISTS "CustomerLocalizations" (
                        "CustomerId" integer NOT NULL,
                        "Language" text NOT NULL,
                        "Name" text,
                        CONSTRAINT "PK_CustomerLocalizations" PRIMARY KEY ("CustomerId", "Language"),
                        CONSTRAINT "FK_CustomerLocalizations_Customers_CustomerId" FOREIGN KEY ("CustomerId") REFERENCES "Customers"("Id") ON DELETE CASCADE
                    );
2025-10-30 12:21:38.567 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "FieldDefinitions" AS f)
2025-10-30 12:21:38.576 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationLanguages" AS l)
2025-10-30 12:21:38.587 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l)
2025-10-30 12:21:38.637 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.644 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.647 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.650 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.655 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.658 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.663 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.665 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.671 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.676 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.680 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.684 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.689 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.694 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.697 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.703 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.707 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.711 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.715 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.718 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.721 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.724 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.727 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.729 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.735 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.739 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.743 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.746 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.751 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.755 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.757 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.760 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.764 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.766 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.771 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.775 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.791 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.797 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.803 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.807 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.813 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.816 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.819 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.821 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.825 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.830 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 12:21:38.842 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fieldvalues_value_gin ON "FieldValues" USING GIN ("Value");
2025-10-30 12:21:38.844 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fielddefinitions_tags_gin ON "FieldDefinitions" USING GIN ("Tags");
2025-10-30 12:21:38.846 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fielddefinitions_actions_gin ON "FieldDefinitions" USING GIN ("Actions");
2025-10-30 12:21:38.848 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_userlayouts_layoutjson_gin ON "UserLayouts" USING GIN ("LayoutJson");
2025-10-30 12:21:38.852 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fieldvalues_customer_field ON "FieldValues" ("CustomerId", "FieldDefinitionId");
2025-10-30 12:21:38.861 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Customers" AS c)
2025-10-30 12:21:38.901 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 12:21:38.938 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 12:21:38.975 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 12:21:38.992 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-10-30 12:21:39.008 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Customers" AS c
2025-10-30 12:21:39.016 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cid_0='?' (DbType = Int32), @__8__locals1_admin_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CustomerAccesses" AS c
    WHERE c."CustomerId" = @__cid_0 AND c."UserId" = @__8__locals1_admin_Id_1)
2025-10-30 12:21:39.021 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cid_0='?' (DbType = Int32), @__8__locals1_admin_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CustomerAccesses" AS c
    WHERE c."CustomerId" = @__cid_0 AND c."UserId" = @__8__locals1_admin_Id_1)
2025-10-30 12:21:39.059 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."FriendlyName", d."Xml"
FROM "DataProtectionKeys" AS d
2025-10-30 12:21:39.194 +09:00 [INF] Now listening on: http://0.0.0.0:5200
2025-10-30 12:21:39.196 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 12:21:39.196 +09:00 [INF] Hosting environment: Development
2025-10-30 12:21:39.197 +09:00 [INF] Content root path: C:\workspace\bobcrm\src\BobCrm.Api
2025-10-30 12:21:49.927 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 12:21:50.037 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:21:50.115 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 12:21:50.126 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 12:21:50.146 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:21:50.153 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 228.4581ms
2025-10-30 12:21:50.296 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - null null
2025-10-30 12:21:50.305 +09:00 [INF] Executing endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 12:21:50.315 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 12:21:50.327 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 12:21:50.383 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-10-30 12:21:50.389 +09:00 [INF] Setting HTTP status code 200.
2025-10-30 12:21:50.394 +09:00 [INF] Writing value of type '<>f__AnonymousType32`3' as Json.
2025-10-30 12:21:50.400 +09:00 [INF] Executed endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 12:21:50.404 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - 200 null application/json; charset=utf-8 107.8512ms
2025-10-30 12:21:51.249 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 12:21:51.259 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:21:51.264 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 12:21:51.271 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 12:21:51.272 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:21:51.274 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 25.5404ms
2025-10-30 12:21:51.289 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/customers - null null
2025-10-30 12:21:51.582 +09:00 [INF] Executing endpoint 'HTTP: GET /api/customers'
2025-10-30 12:21:51.593 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__uid_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId"
FROM "CustomerAccesses" AS c
WHERE c."UserId" = @__uid_0
2025-10-30 12:21:51.644 +09:00 [INF] Executed DbCommand (32ms) [Parameters=[@__accessIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Code", c."CreatedAt", c."CreatedBy", c."ExtData", c."Name", c."UpdatedAt", c."UpdatedBy", c."Version"
FROM "Customers" AS c
WHERE c."Id" = ANY (@__accessIds_0)
2025-10-30 12:21:51.672 +09:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__lang_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId", c."Language", c."EntityId", c."Name"
FROM "CustomerLocalizations" AS c
WHERE c."Language" = @__lang_0
2025-10-30 12:21:51.688 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AppDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
2025-10-30 12:21:51.700 +09:00 [INF] Writing value of type 'List`1' as Json.
2025-10-30 12:21:51.710 +09:00 [INF] Executed endpoint 'HTTP: GET /api/customers'
2025-10-30 12:21:51.712 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/customers - 200 null application/json; charset=utf-8 423.5645ms
2025-10-30 12:21:58.142 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 12:21:58.148 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:21:58.152 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 12:21:58.156 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 12:21:58.161 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:21:58.164 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 22.0196ms
2025-10-30 12:21:58.173 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/customers - null null
2025-10-30 12:21:58.188 +09:00 [INF] Executing endpoint 'HTTP: GET /api/customers'
2025-10-30 12:21:58.195 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__uid_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId"
FROM "CustomerAccesses" AS c
WHERE c."UserId" = @__uid_0
2025-10-30 12:21:58.200 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Code", c."CreatedAt", c."CreatedBy", c."ExtData", c."Name", c."UpdatedAt", c."UpdatedBy", c."Version"
FROM "Customers" AS c
WHERE c."Id" = ANY (@__accessIds_0)
2025-10-30 12:21:58.211 +09:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@__lang_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId", c."Language", c."EntityId", c."Name"
FROM "CustomerLocalizations" AS c
WHERE c."Language" = @__lang_0
2025-10-30 12:21:58.214 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AppDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
2025-10-30 12:21:58.228 +09:00 [INF] Writing value of type 'List`1' as Json.
2025-10-30 12:21:58.230 +09:00 [INF] Executed endpoint 'HTTP: GET /api/customers'
2025-10-30 12:21:58.232 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/customers - 200 null application/json; charset=utf-8 59.1547ms
2025-10-30 12:22:00.432 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 12:22:00.436 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:22:00.440 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 12:22:00.443 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 12:22:00.444 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:22:00.450 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 17.2912ms
2025-10-30 12:22:00.460 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - null null
2025-10-30 12:22:00.469 +09:00 [INF] Executing endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 12:22:00.479 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 12:22:00.483 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 12:22:00.491 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-10-30 12:22:00.499 +09:00 [INF] Setting HTTP status code 200.
2025-10-30 12:22:00.500 +09:00 [INF] Writing value of type '<>f__AnonymousType32`3' as Json.
2025-10-30 12:22:00.502 +09:00 [INF] Executed endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 12:22:00.504 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - 200 null application/json; charset=utf-8 43.1387ms
2025-10-30 12:22:10.527 +09:00 [INF] Request starting HTTP/1.1 POST http://192.168.20.218:5200/api/auth/login - application/json; charset=utf-8 null
2025-10-30 12:22:10.531 +09:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-10-30 12:22:10.554 +09:00 [INF] [Auth] Login attempt, usernameOrEmail=admin, remote=192.168.20.218
2025-10-30 12:22:10.559 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 12:22:10.696 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "ExpiresAt", "RevokedAt", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-10-30 12:22:10.713 +09:00 [INF] [Auth] Login success for user admin
2025-10-30 12:22:10.716 +09:00 [INF] Writing value of type '<>f__AnonymousType12`3' as Json.
2025-10-30 12:22:10.718 +09:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-10-30 12:22:10.722 +09:00 [INF] Request finished HTTP/1.1 POST http://192.168.20.218:5200/api/auth/login - 200 null application/json; charset=utf-8 194.8451ms
2025-10-30 12:22:10.988 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 12:22:10.995 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:22:10.999 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 12:22:11.005 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 12:22:11.007 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:22:11.009 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 20.9136ms
2025-10-30 12:22:11.016 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/customers - null null
2025-10-30 12:22:11.022 +09:00 [INF] Executing endpoint 'HTTP: GET /api/customers'
2025-10-30 12:22:11.032 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__uid_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId"
FROM "CustomerAccesses" AS c
WHERE c."UserId" = @__uid_0
2025-10-30 12:22:11.037 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__accessIds_0='?' (DbType = Object)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Code", c."CreatedAt", c."CreatedBy", c."ExtData", c."Name", c."UpdatedAt", c."UpdatedBy", c."Version"
FROM "Customers" AS c
WHERE c."Id" = ANY (@__accessIds_0)
2025-10-30 12:22:11.041 +09:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__lang_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId", c."Language", c."EntityId", c."Name"
FROM "CustomerLocalizations" AS c
WHERE c."Language" = @__lang_0
2025-10-30 12:22:11.044 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AppDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
2025-10-30 12:22:11.055 +09:00 [INF] Writing value of type 'List`1' as Json.
2025-10-30 12:22:11.056 +09:00 [INF] Executed endpoint 'HTTP: GET /api/customers'
2025-10-30 12:22:11.058 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/customers - 200 null application/json; charset=utf-8 42.0628ms
2025-10-30 12:22:13.188 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 12:22:13.193 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:22:13.196 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 12:22:13.199 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 12:22:13.200 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 12:22:13.202 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 13.871ms
2025-10-30 12:22:13.213 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/customers/2 - null null
2025-10-30 12:22:13.217 +09:00 [INF] Executing endpoint 'HTTP: GET /api/customers/{id:int}'
2025-10-30 12:22:13.228 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CustomerAccesses" AS c
    WHERE c."CustomerId" = @__id_0)
2025-10-30 12:22:13.236 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32), @__uid_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CustomerAccesses" AS c
    WHERE c."CustomerId" = @__id_0 AND c."UserId" = @__uid_1)
2025-10-30 12:22:13.248 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id", c."Code", c."CreatedAt", c."CreatedBy", c."ExtData", c."Name", c."UpdatedAt", c."UpdatedBy", c."Version"
FROM "Customers" AS c
WHERE c."Id" = @__id_0
LIMIT 1
2025-10-30 12:22:13.261 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Actions", f."CreatedAt", f."CreatedBy", f."DataType", f."DefaultValue", f."DisplayName", f."Key", f."Required", f."Tags", f."UpdatedAt", f."UpdatedBy", f."Validation"
FROM "FieldDefinitions" AS f
2025-10-30 12:22:13.285 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."CreatedBy", f."CustomerId", f."FieldDefinitionId", f."UpdatedAt", f."UpdatedBy", f."Value", f."Version"
FROM "FieldValues" AS f
WHERE f."CustomerId" = @__id_0
ORDER BY f."Version" DESC
2025-10-30 12:22:13.294 +09:00 [ERR] Failed executing DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32), @__lang_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CustomerId", c."Language", c."EntityId", c."Name"
FROM "CustomerLocalizations" AS c
WHERE c."CustomerId" = @__id_0 AND c."Language" = @__lang_1
LIMIT 1
2025-10-30 12:22:13.299 +09:00 [ERR] An exception occurred while iterating over the results of a query for context type 'AppDbContext'.
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column c.EntityId does not exist

POSITION: 38
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(Enumerator enumerator)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.<>c.<MoveNext>b__21_0(DbContext _, Enumerator enumerator)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column c.EntityId does not exist
    Position: 38
    File: parse_relation.c
    Line: 3722
    Routine: errorMissingColumn
2025-10-30 12:22:13.311 +09:00 [INF] Writing value of type '<>f__AnonymousType2`5' as Json.
2025-10-30 12:22:13.320 +09:00 [INF] Executed endpoint 'HTTP: GET /api/customers/{id:int}'
2025-10-30 12:22:13.323 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/customers/2 - 200 null application/json; charset=utf-8 109.6478ms
2025-10-30 12:24:50.174 +09:00 [INF] Application is shutting down...
