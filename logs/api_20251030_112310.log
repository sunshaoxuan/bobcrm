2025-10-30 11:23:10.244 +09:00 [INF] ============================================
2025-10-30 11:23:10.256 +09:00 [INF] Application starting at "2025-10-30T11:23:10.2537108+09:00", log file: C:\workspace\bobcrm\src\BobCrm.Api\..\..\logs\api_20251030_112310.log
2025-10-30 11:23:10.258 +09:00 [INF] ============================================
2025-10-30 11:23:10.698 +09:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-10-30 11:23:10.787 +09:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Customers" AS c
2025-10-30 11:23:10.798 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE IF NOT EXISTS "LocalizationLanguages" ("Id" SERIAL PRIMARY KEY, "Code" text NOT NULL, "NativeName" text NOT NULL);
2025-10-30 11:23:10.806 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Customers" AS c)
2025-10-30 11:23:10.810 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "FieldDefinitions" AS f)
2025-10-30 11:23:10.815 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationLanguages" AS l)
2025-10-30 11:23:10.819 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l)
2025-10-30 11:23:10.841 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.847 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.850 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.853 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.855 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.860 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.862 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.864 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.866 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.868 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.871 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.874 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.877 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.881 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.885 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.889 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.891 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.894 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.896 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.898 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.901 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.906 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.910 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.912 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.914 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.916 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.920 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.922 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.923 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.925 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.927 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.929 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.931 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.935 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.937 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.939 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.942 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.945 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.947 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.953 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__key_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "LocalizationResources" AS l
    WHERE l."Key" = @__key_0)
2025-10-30 11:23:10.962 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fieldvalues_value_gin ON "FieldValues" USING GIN ("Value");
2025-10-30 11:23:10.965 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fielddefinitions_tags_gin ON "FieldDefinitions" USING GIN ("Tags");
2025-10-30 11:23:10.967 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fielddefinitions_actions_gin ON "FieldDefinitions" USING GIN ("Actions");
2025-10-30 11:23:10.971 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_userlayouts_layoutjson_gin ON "UserLayouts" USING GIN ("LayoutJson");
2025-10-30 11:23:10.974 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX IF NOT EXISTS idx_fieldvalues_customer_field ON "FieldValues" ("CustomerId", "FieldDefinitionId");
2025-10-30 11:23:11.005 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 11:23:11.033 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 11:23:11.056 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 11:23:11.067 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-10-30 11:23:11.080 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."Id"
FROM "Customers" AS c
2025-10-30 11:23:11.084 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cid_0='?' (DbType = Int32), @__8__locals1_admin_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CustomerAccesses" AS c
    WHERE c."CustomerId" = @__cid_0 AND c."UserId" = @__8__locals1_admin_Id_1)
2025-10-30 11:23:11.089 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cid_0='?' (DbType = Int32), @__8__locals1_admin_Id_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "CustomerAccesses" AS c
    WHERE c."CustomerId" = @__cid_0 AND c."UserId" = @__8__locals1_admin_Id_1)
2025-10-30 11:23:11.119 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT d."Id", d."FriendlyName", d."Xml"
FROM "DataProtectionKeys" AS d
2025-10-30 11:23:11.212 +09:00 [INF] Now listening on: http://0.0.0.0:5200
2025-10-30 11:23:11.213 +09:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-30 11:23:11.213 +09:00 [INF] Hosting environment: Development
2025-10-30 11:23:11.213 +09:00 [INF] Content root path: C:\workspace\bobcrm\src\BobCrm.Api
2025-10-30 11:23:27.755 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 11:23:27.862 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 11:23:27.922 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 11:23:27.928 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 11:23:27.940 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 11:23:27.944 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 191.0565ms
2025-10-30 11:23:27.976 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - null null
2025-10-30 11:23:27.982 +09:00 [INF] CORS policy execution successful.
2025-10-30 11:23:27.983 +09:00 [INF] Executing endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 11:23:27.989 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 11:23:27.998 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 11:23:28.043 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-10-30 11:23:28.047 +09:00 [INF] Setting HTTP status code 200.
2025-10-30 11:23:28.050 +09:00 [INF] Writing value of type '<>f__AnonymousType31`3' as Json.
2025-10-30 11:23:28.054 +09:00 [INF] Executed endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 11:23:28.057 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - 200 null application/json; charset=utf-8 80.7774ms
2025-10-30 11:23:28.074 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/languages - null null
2025-10-30 11:23:28.078 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/languages'
2025-10-30 11:23:28.083 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Code" AS code, l."NativeName" AS name
FROM "LocalizationLanguages" AS l
2025-10-30 11:23:28.086 +09:00 [INF] Writing value of type 'List`1' as Json.
2025-10-30 11:23:28.087 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/languages'
2025-10-30 11:23:28.088 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/languages - 200 null application/json; charset=utf-8 13.7957ms
2025-10-30 11:23:30.727 +09:00 [INF] Request starting HTTP/1.1 POST http://192.168.20.218:5200/api/debug/reset-setup - null 0
2025-10-30 11:23:30.732 +09:00 [INF] Executing endpoint 'HTTP: POST /api/debug/reset-setup'
2025-10-30 11:23:30.743 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 11:23:30.798 +09:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "AspNetUsers"
WHERE "Id" = @p0 AND "ConcurrencyStamp" = @p1;
2025-10-30 11:23:30.804 +09:00 [INF] Setting HTTP status code 200.
2025-10-30 11:23:30.806 +09:00 [INF] Writing value of type '<>f__AnonymousType19`2' as Json.
2025-10-30 11:23:30.808 +09:00 [INF] Executed endpoint 'HTTP: POST /api/debug/reset-setup'
2025-10-30 11:23:30.809 +09:00 [INF] Request finished HTTP/1.1 POST http://192.168.20.218:5200/api/debug/reset-setup - 200 null application/json; charset=utf-8 81.5337ms
2025-10-30 11:23:46.357 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 11:23:46.361 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 11:23:46.364 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 11:23:46.367 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 11:23:46.368 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 11:23:46.373 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 15.8612ms
2025-10-30 11:23:46.389 +09:00 [INF] Request starting HTTP/1.1 POST http://192.168.20.218:5200/api/setup/admin - application/json; charset=utf-8 null
2025-10-30 11:23:46.390 +09:00 [INF] Executing endpoint 'HTTP: POST /api/setup/admin'
2025-10-30 11:23:46.404 +09:00 [INF] [Setup] Request to configure admin: username=admin, email=sun.shaoxuan@onehr.jp
2025-10-30 11:23:46.411 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 11:23:46.416 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 11:23:46.464 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 11:23:46.477 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 11:23:46.496 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-10-30 11:23:46.503 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 11:23:46.508 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2025-10-30 11:23:46.514 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 11:23:46.519 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 11:23:46.525 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-10-30 11:23:46.542 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2025-10-30 11:23:46.553 +09:00 [INF] [Setup] Admin created: admin
2025-10-30 11:23:46.554 +09:00 [INF] Setting HTTP status code 200.
2025-10-30 11:23:46.558 +09:00 [INF] Writing value of type '<>f__AnonymousType32`3' as Json.
2025-10-30 11:23:46.560 +09:00 [INF] Executed endpoint 'HTTP: POST /api/setup/admin'
2025-10-30 11:23:46.561 +09:00 [INF] Request finished HTTP/1.1 POST http://192.168.20.218:5200/api/setup/admin - 200 null application/json; charset=utf-8 172.0896ms
2025-10-30 11:23:59.382 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - null null
2025-10-30 11:23:59.386 +09:00 [INF] Executing endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 11:23:59.390 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT l."Key", l."EN", l."JA", l."ZH"
FROM "LocalizationResources" AS l
2025-10-30 11:23:59.392 +09:00 [INF] Writing value of type 'Dictionary`2' as Json.
2025-10-30 11:23:59.393 +09:00 [INF] Executed endpoint 'HTTP: GET /api/i18n/{lang}'
2025-10-30 11:23:59.395 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/i18n/ja - 200 null application/json; charset=utf-8 12.7625ms
2025-10-30 11:23:59.401 +09:00 [INF] Request starting HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - null null
2025-10-30 11:23:59.404 +09:00 [INF] Executing endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 11:23:59.410 +09:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2025-10-30 11:23:59.414 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2025-10-30 11:23:59.422 +09:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Id", a0."AccessFailedCount", a0."ConcurrencyStamp", a0."Email", a0."EmailConfirmed", a0."LockoutEnabled", a0."LockoutEnd", a0."NormalizedEmail", a0."NormalizedUserName", a0."PasswordHash", a0."PhoneNumber", a0."PhoneNumberConfirmed", a0."SecurityStamp", a0."TwoFactorEnabled", a0."UserName"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetUsers" AS a0 ON a."UserId" = a0."Id"
WHERE a."RoleId" = @__role_Id_0
2025-10-30 11:23:59.424 +09:00 [INF] Setting HTTP status code 200.
2025-10-30 11:23:59.424 +09:00 [INF] Writing value of type '<>f__AnonymousType31`3' as Json.
2025-10-30 11:23:59.425 +09:00 [INF] Executed endpoint 'HTTP: GET /api/setup/admin'
2025-10-30 11:23:59.426 +09:00 [INF] Request finished HTTP/1.1 GET http://192.168.20.218:5200/api/setup/admin - 200 null application/json; charset=utf-8 25.0674ms
2025-10-30 11:24:08.226 +09:00 [INF] Request starting HTTP/1.1 POST http://192.168.20.218:5200/api/auth/login - application/json; charset=utf-8 null
2025-10-30 11:24:08.228 +09:00 [INF] Executing endpoint 'HTTP: POST /api/auth/login'
2025-10-30 11:24:08.233 +09:00 [INF] [Auth] Login attempt, usernameOrEmail=admin, remote=192.168.20.218
2025-10-30 11:24:08.236 +09:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-10-30 11:24:08.356 +09:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "RefreshTokens" ("CreatedAt", "ExpiresAt", "RevokedAt", "Token", "UserId")
VALUES (@p0, @p1, @p2, @p3, @p4)
RETURNING "Id";
2025-10-30 11:24:08.366 +09:00 [INF] [Auth] Login success for user admin
2025-10-30 11:24:08.367 +09:00 [INF] Writing value of type '<>f__AnonymousType11`3' as Json.
2025-10-30 11:24:08.368 +09:00 [INF] Executed endpoint 'HTTP: POST /api/auth/login'
2025-10-30 11:24:08.370 +09:00 [INF] Request finished HTTP/1.1 POST http://192.168.20.218:5200/api/auth/login - 200 null application/json; charset=utf-8 144.2618ms
2025-10-30 11:24:42.080 +09:00 [INF] Application is shutting down...
