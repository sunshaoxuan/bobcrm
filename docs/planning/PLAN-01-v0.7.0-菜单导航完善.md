# v0.7.0 开发计划 - 菜单导航与模板系统闭环

## 概述

本文档是 BobCRM v0.7.0 的详细开发计划。前半段完成**菜单导航系统完善**（T1-T3已完成），后半段聚焦于**模板系统完整闭环**，实现从设计到应用的完整链路。

**来源**：基于用户反馈和 [ROADMAP.md](../ROADMAP.md) 1.1、1.2 节的功能需求

**版本目标**：
1. ✅ 完善菜单编辑器的用户体验（图标选择器、导入/导出）
2. ✅ 编写完整的使用指南文档  
3. ✨ **实现模板系统完整闭环**（设计-应用-设置-显示）
4. 为系统的核心功能打下坚实基础

---

## 任务优先级

| 编号 | 任务名称 | 优先级 | 估算时间 | 依赖 | 状态 |
|------|----------|--------|----------|------|------|
| T1 | 编写菜单编辑器使用指南 | 高 | 1天 | 无 | ✅ 已完成 |
| T2 | 图标选择器组件 | 高 | 1-2天 | 无 | ✅ 已完成 |
| T3 | 菜单导入/导出功能 | 高 | 1天 | 无 | ✅ 已完成 |
| **T4** | **表单设计器功能强化** | **高** | **3-4天** | **无** | **⏳ 待开始** |
| **T5** | **默认模板自动生成** | **高** | **2-3天** | **T4** | **⏳ 待开始** |
| **T6** | **模板列表管理系统** | **高** | **3-4天** | **T5** | **⏳ 待开始** |
| **T7** | **菜单模板关联与渲染** | **高** | **2-3天** | **T6** | **⏳ 待开始** |
| T8 | 菜单实时预览优化 | 低 | 1天 | 无 | ⏸️ 推迟到 v0.8.0 |
| T9 | 菜单编辑器错误处理增强 | 低 | 1天 | 无 | ⏸️ 推迟到 v0.8.0 |
| T10 | 菜单权限验证测试 | 低 | 1天 | 无 | ⏸️ 推迟到 v0.8.0 |

---

## 第一阶段：菜单导航完善（已完成）

已完成 T1-T3，详见 CHANGELOG.md

---

## 第二阶段：模板系统完整闭环 ⭐⭐⭐

### T4: 表单设计器功能强化

**目标**: 增强表单设计器，支持所有页面所需的控件类型

**新增控件**:
- DataGrid 控件（列表数据）
- SubForm 控件（主从表单）
- Tab容器控件
- Card卡片控件

**详见**: 完整任务描述在 `docs/AI_DEVELOPMENT_PROMPT.md` 

---

### T5: 默认模板自动生成

**目标**: 为所有实体自动生成默认的列表、详情、编辑模板

**关键任务**:
- 增强 `DefaultTemplateGenerator`
- 列表模板生成（含DataGrid）
- 详情/编辑模板优化

---

### T6: 模板列表管理系统 ⭐

**目标**: 实现完整的模板管理功能

**核心功能**:
1. **系统模板** vs **用户模板**
   - 系统默认模板：自动生成，仅管理员可改，不可删除
   - 用户模板：可从系统模板复制修改
2. **模板列表页面**（`/templates`）
3. **模板复制与应用**
4. **权限控制**

---

### T7: 菜单模板关联与渲染 ⭐⭐

**目标**: 实现"设计-应用-设置-显示"闭环

**关键功能**:
1. 菜单节点关联系统默认模板
2. 用户可以设置个人模板（覆盖系统默认）
3. 前端根据模板动态渲染页面
4. 模板匹配优先级：用户模板 → 系统默认模板

---

## 里程碑

| 里程碑 | 包含任务 | 目标日期 | 状态 |
|--------|----------|----------|------|
| **M1: 菜单导航完善** | T1-T3 | Week 1 | ✅ 已完成 |
| **M2: 表单设计器强化** | T4 | Week 2 | ⏳ 计划中 |
| **M3: 模板自动生成** | T5 | Week 3 | ⏳ 计划中 |
| **M4: 模板管理系统** | T6 | Week 4 | ⏳ 计划中 |
| **M5: 模板闭环完成** | T7 | Week 5 | ⏳ 计划中 |

---

## 参考文档

- [ROADMAP.md](../ROADMAP.md)
- [ARCH-22-标准实体模板化与权限联动设计](../design/ARCH-22-标准实体模板化与权限联动设计.md)
- [AI_DEVELOPMENT_PROMPT.md](../AI_DEVELOPMENT_PROMPT.md) - T4-T7详细任务

---

更新日志: 2025-11-20 - 调整为菜单+模板系统闭环，添加T4-T7，推迟T8-T10
