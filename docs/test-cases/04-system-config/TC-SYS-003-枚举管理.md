# TC-SYS-003 枚举管理

| 项目 | 内容 |
|------|------|
| **用例编号** | TC-SYS-003 |
| **用例名称** | 枚举管理 |
| **所属领域** | 系统配置 |
| **测试类型** | 功能测试 |
| **优先级** | P1 - 重要功能 |
| **版本** | 1.0 |

---

## 1. 测试场景描述

### 1.1 业务背景
系统支持自定义枚举类型，用于下拉选项、状态值等场景。管理员可创建、编辑枚举及其选项。

### 1.2 涉及页面
- `/system/enums` - 枚举管理列表
- `/system/enums/create` - 创建枚举
- `/system/enums/edit/{Id}` - 编辑枚举

---

## 2. 前置条件

| 条件编号 | 条件描述 |
|----------|----------|
| PRE-001 | 以管理员身份登录 |

---

## 3. 测试数据

```json
{
  "enumDefinition": {
    "name": "OrderStatus",
    "displayName": "订单状态",
    "items": [
      { "value": "pending", "label": "待处理", "sortOrder": 1 },
      { "value": "processing", "label": "处理中", "sortOrder": 2 },
      { "value": "completed", "label": "已完成", "sortOrder": 3 }
    ]
  }
}
```

---

## 4. 测试步骤

### 场景 A: 查看枚举列表

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| A1 | 导航到 `/system/enums` | 显示枚举列表页面 | ✓ |
| A2 | 确认列表显示已有枚举 | 枚举名称、选项数量可见 | - |

### 场景 B: 创建新枚举

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| B1 | 点击"创建枚举"按钮 | 跳转到创建页面 | ✓ |
| B2 | 输入枚举名称 `OrderStatus` | 输入成功 | - |
| B3 | 输入显示名称 `订单状态` | 输入成功 | - |
| B4 | 添加第一个选项：`pending` - `待处理` | 选项添加成功 | - |
| B5 | 添加更多选项：`processing`、`completed` | 选项添加成功 | - |
| B6 | 点击保存 | 枚举创建成功，返回列表 | ✓ |
| B7 | 确认新枚举在列表中 | `OrderStatus` 可见 | ✓ |

### 场景 C: 编辑枚举

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| C1 | 点击 `OrderStatus` 的编辑按钮 | 进入编辑页面 | - |
| C2 | 添加新选项 `cancelled` - `已取消` | 选项添加成功 | - |
| C3 | 保存 | 更新成功 | ✓ |

### 场景 D: 删除枚举选项

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| D1 | 在编辑页面删除 `cancelled` 选项 | 选项移除 | - |
| D2 | 保存 | 更新成功 | ✓ |

### 场景 E: 删除枚举

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| E1 | 点击 `OrderStatus` 的删除按钮 | 显示确认对话框 | - |
| E2 | 确认删除 | 枚举从列表中移除 | ✓ |

---

## 5. 预期结果汇总

| 结果编号 | 场景 | 预期结果 |
|----------|------|----------|
| EXP-001 | 查看列表 | 正确显示枚举列表 |
| EXP-002 | 创建枚举 | 枚举及选项创建成功 |
| EXP-003 | 编辑枚举 | 选项增删改成功 |
| EXP-004 | 删除枚举 | 枚举删除成功 |

---

## 6. AI 自动化测试注释

```yaml
test_type: e2e
requires_auth: admin
cleanup: delete_enum("OrderStatus")
```
