# TC-SYS-001 菜单管理

| 项目 | 内容 |
|------|------|
| **用例编号** | TC-SYS-001 |
| **用例名称** | 菜单管理 |
| **所属领域** | 系统配置 |
| **测试类型** | 功能测试 |
| **优先级** | P1 - 重要功能 |
| **版本** | 1.0 |

---

## 1. 测试场景描述

### 1.1 业务背景
管理员可以配置系统导航菜单结构，包括菜单项的层级、图标、路由等。

### 1.2 涉及页面
- `/menus` - 菜单管理页面

---

## 2. 前置条件

| 条件编号 | 条件描述 |
|----------|----------|
| PRE-001 | 以管理员身份登录 |

---

## 3. 测试数据

```json
{
  "menuItem": {
    "name": "测试菜单",
    "icon": "settings",
    "route": "/test-page",
    "sortOrder": 100
  }
}
```

---

## 4. 测试步骤

### 场景 A: 查看菜单结构

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| A1 | 导航到 `/menus` | 显示菜单管理页面 | ✓ |
| A2 | 确认显示系统现有菜单项 | 菜单树形结构可见 | - |

### 场景 B: 添加菜单项

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| B1 | 点击"添加菜单"按钮 | 显示菜单编辑表单 | ✓ |
| B2 | 填写菜单名称、图标、路由 | 字段填充成功 | - |
| B3 | 选择父菜单（如有） | 父级选择成功 | - |
| B4 | 点击保存 | 菜单创建成功 | ✓ |

### 场景 C: 编辑菜单项

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| C1 | 点击某菜单项的编辑按钮 | 显示编辑表单 | - |
| C2 | 修改菜单名称或图标 | 输入成功 | - |
| C3 | 保存 | 更新成功 | ✓ |

### 场景 D: 调整菜单顺序

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| D1 | 拖拽菜单项调整顺序（如支持） | 菜单顺序改变 | ✓ |
| D2 | 或修改 SortOrder 值保存 | 顺序更新成功 | - |

### 场景 E: 删除菜单项

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| E1 | 点击删除按钮 | 显示确认对话框 | - |
| E2 | 确认删除 | 菜单项移除 | ✓ |

### 场景 F: 验证菜单在侧边栏生效

| 步骤 | 操作描述 | 预期结果 | 截图 |
|------|----------|----------|------|
| F1 | 刷新页面查看侧边栏 | 新菜单项出现在侧边栏 | ✓ |

---

## 5. 预期结果汇总

| 结果编号 | 场景 | 预期结果 |
|----------|------|----------|
| EXP-001 | 查看菜单 | 正确显示菜单树 |
| EXP-002 | 添加菜单 | 菜单创建成功 |
| EXP-003 | 编辑菜单 | 菜单更新成功 |
| EXP-004 | 调整顺序 | 顺序变更生效 |
| EXP-005 | 删除菜单 | 菜单移除成功 |
| EXP-006 | 侧边栏验证 | 菜单在导航中显示 |

---

## 6. AI 自动化测试注释

```yaml
test_type: e2e
requires_auth: admin
cleanup: delete_menu("测试菜单")
affects_ui: sidebar
```
