# STD-02: 文档编写规范

**生效日期**: 2025-11-30
**状态**: 执行中

---

## 1. 概述

为了确保项目文档的一致性、可读性和易维护性，制定本文档编写规范。所有新增及修改的文档均需遵循本规范。

## 2. 命名规范

文档文件名应遵循以下格式：

`[类型]-[编号]-[中文名称].md`

### 2.1 类型代码 (Type)
- **PLAN**: 计划类文档 (如路线图、迭代计划)
- **PROC**: 流程类文档 (如PR清单、工作流)
- **STD**: 标准类文档 (如代码规范、文档规范)
- **UI**: 设计类文档 (如布局验证、UI规范)
- **FIX**: 修复方案类文档
- **ARCH**: 架构设计文档
- **GUIDE**: 开发/使用指南
- **TEST**: 测试相关文档
- **EX**: 示例/演示文档
- **AUDIT**: 审计报告
- **GAP**: 差距分析文档
- **MIGRATION**: 迁移记录
- **PROD**: 产品文档

### 2.2 编号 (Number)
- 使用两位数字，从 `01` 开始递增 (如 `01`, `02`, `10`)。
- 同一类型的文档编号应唯一。

### 2.3 名称 (Name)
- 使用简练的中文描述文档内容。
- 单词间用连字符 `-` 分隔（如果包含英文单词）。
- 避免使用空格或特殊字符。

**示例**:
- `PLAN-03-v0.8.0-开发路线图.md`
- `PROC-01-PR检查清单.md`
- `STD-01-开发质量标准.md`

### 2.4 特殊命名：测试用例库（docs/test-cases）

为避免海量测试用例占用 `TEST-xx` 编号空间，并保持用例按领域组织，`docs/test-cases/` 使用独立命名体系：

- **目录**：按领域划分（如 `01-authentication/`、`02-user-management/`）
- **文件名**：`TC-{DOMAIN}-{NNN}-{中文名称}.md`
  - `{DOMAIN}`：领域缩写（如 `AUTH`、`USER`、`ORG`、`SYS`）
  - `{NNN}`：三位序号（如 `001`、`010`）

示例：`docs/test-cases/03-organization/TC-ORG-001-组织结构.md`

## 3. 语言规范

- **正文**: 必须使用 **简体中文**。
- **专业术语**: 保留英文原文 (如 `Widget`, `Endpoint`, `Blazor`)，无需强行翻译。
- **标题**: 建议使用中文，或 "英文 ID + 中文名称" 的形式。

## 4. 格式规范

- **文件格式**: Markdown (`.md`)。
- **标题层级**:
    - H1 (`#`): 文档标题，包含编号和名称。
    - H2 (`##`): 主要章节。
    - H3 (`###`): 子章节。
- **元数据**: 文档开头推荐包含 `生效日期` 和 `状态`。
- **列表**: 使用 `-` 或 `1.` 进行列表排版。
- **代码块**: 使用反引号 ``` 包裹代码，并指定语言 (如 `csharp`, `json`)。

## 5. 目录结构

文档应存放在 `docs/` 目录下相应的子目录中：
- `docs/plans/`: 计划类
- `docs/process/`: 流程与标准类
- `docs/design/`: 设计类
- `docs/guides/`: 指南类
- `docs/history/`: 历史记录（审计/差距/修复记录、项目阶段复盘等）
- `docs/reference/`: 参考文档（API 文档、术语表等）
- `docs/reviews/`: 评审记录（代码评审、版本评审等）
- `docs/migrations/`: 数据库迁移记录
- `docs/examples/`: 示例/演示文档
- `docs/test-cases/`: 测试用例库（见 2.4）

### 5.1 目录约定

- `docs/tasks/`、`docs/research/` 不再作为长期目录使用：
  - 任务执行记录/阶段复盘建议归档到 `docs/history/`
  - 调研/研究输出建议归档到 `docs/design/` 或 `docs/history/`

## 7. 设计元数据规范 (Design Source Specification)

为了支持未来的多数据库架构并保持“设计元即真理 (Design Source as Truth)”的原则，设计文档应遵循以下规范：

- **禁止直接使用物理 SQL**：在描述数据模型或结构变更时，严禁直接贴入特定数据库（如 PostgreSQL）的 SQL 语句。
- **使用逻辑 Schema 表达**：应使用 Markdown 表格描述逻辑字段、类型（逻辑类型如 String, GUID, Decimal）和约束。
- **解耦物理实现**：如果必须展示 SQL 示例，应将其放入“附录：物理实现参考”或专门的适配器设计章节中，并明确标注目标方言。
- **版本化元数据**：在描述元数据变更时，应以“逻辑版本”或“版本快照”的形式呈现，而非单纯的 DDL 脚本。

## 8. 检查清单

在提交文档前，请确认：
- [ ] 文件名符合 `TYPE-Number-Name.md` 格式。
- [ ] 正文主要使用中文编写。
- [ ] 存放目录正确。
- [ ] 格式清晰，无排版错误。
- [ ] **是否符合“设计元即真理”原则，不包含直接的物理 SQL。**
