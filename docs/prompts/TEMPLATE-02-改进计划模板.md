# TEMPLATE-02: 代码审查改进计划模板

**模板版本**: v1.0
**适用于**: PROMPT-01-全面代码审查

---

## 使用说明

复制本模板到 `docs/plans/` 目录，命名为：
`PLAN-XX-审查改进计划-YYYY-MM.md`

---

# PLAN-XX: BobCRM 代码审查改进计划

**创建日期**: YYYY-MM-DD
**基于审查**: `REVIEW-XX-全面代码审查-YYYY-MM.md`
**计划执行周期**: YYYY-MM-DD ~ YYYY-MM-DD
**负责人**: [姓名/团队]

---

## 一、计划概要

### 1.1 问题总览

| 优先级 | 问题数 | 预计工时 | 负责人 |
|--------|--------|----------|--------|
| P0 (阻断) | | | |
| P1 (重要) | | | |
| P2 (一般) | | | |
| P3 (优化) | | | |
| **总计** | | | |

### 1.2 按类别分布

| 类别 | P0 | P1 | P2 | P3 | 总计 |
|------|----|----|----|----|------|
| 功能缺陷 | | | | | |
| 代码质量 | | | | | |
| 安全问题 | | | | | |
| 性能问题 | | | | | |
| I18n问题 | | | | | |
| 文档问题 | | | | | |

### 1.3 里程碑

| 里程碑 | 目标 | 截止日期 | 状态 |
|--------|------|----------|------|
| M1 | P0 问题全部修复 | | ⬜ |
| M2 | P1 问题全部修复 | | ⬜ |
| M3 | P2 问题 50% 修复 | | ⬜ |
| M4 | 回归测试通过 | | ⬜ |

---

## 二、P0 问题修复计划

> P0 = 阻断级别，必须立即修复，影响系统核心功能或存在严重安全漏洞

### P0-001: [问题标题]

**来源**: REVIEW-XX 第X章
**发现日期**: YYYY-MM-DD
**修复截止**: YYYY-MM-DD

#### 问题描述
[详细描述问题现象和影响]

#### 影响范围
- 影响模块：
- 影响用户：
- 风险等级：高

#### 根本原因
[分析问题产生的根本原因]

#### 修复方案

**方案概述**：
[简要说明修复思路]

**涉及文件**：
- `src/path/to/file1.cs`
- `src/path/to/file2.razor`

**修复步骤**：
1.
2.
3.

**代码变更**：
```csharp
// 修改前
[原代码]

// 修改后
[新代码]
```

#### 验收标准
- [ ] 单元测试通过
- [ ] 集成测试通过
- [ ] 手工验证通过
- [ ] 代码审查通过

#### 回归测试
- [ ] [测试用例1]
- [ ] [测试用例2]

#### 状态追踪
| 状态 | 日期 | 备注 |
|------|------|------|
| ⬜ 待开始 | | |
| 🔄 进行中 | | |
| ✅ 已完成 | | |
| 🔍 待验证 | | |

---

### P0-002: [问题标题]
...

---

## 三、P1 问题修复计划

> P1 = 重要级别，影响主要功能，需要在当前迭代内修复

### P1-001: [问题标题]

**来源**: REVIEW-XX 第X章
**发现日期**: YYYY-MM-DD
**修复截止**: YYYY-MM-DD

#### 问题描述
[描述]

#### 修复方案
[方案]

#### 涉及文件
-

#### 验收标准
- [ ]

#### 状态
⬜ 待开始 | 🔄 进行中 | ✅ 已完成

---

### P1-002: [问题标题]
...

---

## 四、P2 问题改进计划

> P2 = 一般级别，影响用户体验或代码质量，建议在下个版本前修复

### P2-001: [问题标题]

**来源**: REVIEW-XX
**修复优先级**: 中

#### 问题描述
[描述]

#### 改进建议
[建议]

#### 涉及文件
-

#### 状态
⬜ 待处理

---

## 五、P3 问题优化建议

> P3 = 优化级别，代码可以正常工作，但有改进空间

### P3-001: [优化建议标题]

**类型**: 代码质量 / 性能优化 / 重构建议

#### 现状
[描述现状]

#### 优化建议
[优化方案]

#### 预期收益
[说明优化后的好处]

#### 实施复杂度
低 / 中 / 高

#### 状态
⬜ 备选

---

## 六、技术债务清单

> 来自本次审查发现的技术债务，纳入长期跟踪

| ID | 类型 | 描述 | 影响 | 优先级 | 状态 |
|----|------|------|------|--------|------|
| TD-001 | 架构 | | | | |
| TD-002 | 代码 | | | | |
| TD-003 | 测试 | | | | |

---

## 七、文档同步计划

> 修复问题后需要同步更新的文档

| 问题ID | 需更新文档 | 更新内容 | 状态 |
|--------|------------|----------|------|
| P0-001 | ARCH-XX | | ⬜ |
| P1-002 | API-01 | | ⬜ |

---

## 八、测试计划

### 8.1 单元测试

| 问题ID | 需新增测试 | 测试文件 | 状态 |
|--------|------------|----------|------|
| | | | |

### 8.2 集成测试

| 问题ID | 测试场景 | 测试文件 | 状态 |
|--------|----------|----------|------|
| | | | |

### 8.3 回归测试范围

- [ ] 实体系统完整流程
- [ ] 权限系统验证
- [ ] 表单系统功能
- [ ] 多语言切换
- [ ] 菜单导航

---

## 九、发布检查清单

修复完成后，发布前必须确认：

### 9.1 代码检查
- [ ] 所有 P0 问题已修复
- [ ] 所有 P1 问题已修复
- [ ] 代码已通过审查
- [ ] 无新引入的问题

### 9.2 测试检查
- [ ] 单元测试 100% 通过
- [ ] 集成测试 100% 通过
- [ ] 回归测试通过
- [ ] 性能测试通过（如适用）

### 9.3 文档检查
- [ ] API 文档已更新
- [ ] 设计文档已同步
- [ ] CHANGELOG 已更新
- [ ] 发布说明已准备

### 9.4 部署检查
- [ ] 数据库迁移脚本准备
- [ ] 配置变更确认
- [ ] 回滚方案就绪

---

## 十、执行进度追踪

### 10.1 每日进度

| 日期 | P0完成 | P1完成 | P2完成 | 备注 |
|------|--------|--------|--------|------|
| MM-DD | /X | /X | /X | |

### 10.2 问题状态总览

```
P0: ████████░░ 80% (4/5)
P1: ██████░░░░ 60% (6/10)
P2: ████░░░░░░ 40% (8/20)
P3: ░░░░░░░░░░ 0% (0/15)
```

### 10.3 风险和障碍

| 风险/障碍 | 影响 | 缓解措施 | 状态 |
|-----------|------|----------|------|
| | | | |

---

## 附录

### A. 相关文档

- 审查报告：`docs/reviews/REVIEW-XX-全面代码审查-YYYY-MM.md`
- 问题清单：`docs/history/AUDIT-XX-代码审查问题清单-YYYY-MM.md`

### B. 参考规范

- STD-01: 开发质量标准
- PROC-01: PR检查清单
- PROC-02: 文档同步规范

### C. 变更日志

| 版本 | 日期 | 变更内容 | 作者 |
|------|------|----------|------|
| 1.0 | YYYY-MM-DD | 初始创建 | |

---

**计划创建日期**: YYYY-MM-DD
**最后更新日期**: YYYY-MM-DD
**下次审查日期**: YYYY-MM-DD
