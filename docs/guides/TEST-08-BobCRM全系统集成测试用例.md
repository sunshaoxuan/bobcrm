# TEST-08: BobCRM 全系统集成测试用例

**版本**: 1.0
**创建日期**: 2025-12-13
**目标**: 覆盖BobCRM系统完整业务流程的所有关键画面
**执行方式**: AI自动化测试

---

## 测试概述

### 测试范围
1. **认证与会话管理** - 注册、登录、登出、Token刷新
2. **客户管理** - 客户CRUD、字段验证、并发控制
3. **实体定义系统** - 实体创建、字段管理、发布流程
4. **动态实体** - 查询、创建、更新、删除
5. **模板系统** - 模板绑定、设计器、运行时渲染
6. **权限管理** - 角色、功能节点、字段权限
7. **枚举管理** - 枚举定义、选项管理
8. **多语言支持** - 语言切换、多语API

### 测试环境
- 后端: http://localhost:5200
- 前端: http://localhost:3000
- 管理员: admin / Admin@12345
- 普通用户: user1 / User@12345 (测试中创建)

---

# 第一部分: 认证与会话

## 场景1.1: 用户注册流程

### 场景描述
验证新用户注册、邮件激活、首次登录的完整流程。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 用户名 | testuser_{uuid} |
| 邮箱 | testuser_{uuid}@test.com |
| 密码 | Test@12345 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开注册页面 | 显示注册表单 | ✅ `register-form.png` |
| 2 | 填写用户信息并提交 | 返回成功，提示激活邮件已发送 | ❌ |
| 3 | 调用激活API（模拟邮件链接） | 激活成功 | ❌ |
| 4 | 使用新账号登录 | 登录成功，获取Token | ❌ |
| 5 | 访问需要认证的页面 | 正常访问 | ✅ `first-login.png` |

### 验收标准
- [ ] 注册信息验证（用户名格式、密码强度）
- [ ] 激活流程正常
- [ ] 新用户可正常登录

---

## 场景1.2: 登录与会话管理

### 场景描述
验证登录、Token刷新、会话校验、登出的完整流程。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 用户名 | admin |
| 密码 | Admin@12345 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开登录页面 | 显示登录表单 | ✅ `login-page.png` |
| 2 | 输入错误密码 | 返回401，提示错误 | ❌ |
| 3 | 输入正确凭据 | 返回accessToken和refreshToken | ❌ |
| 4 | 调用 `GET /api/auth/session` | 返回valid=true和用户信息 | ❌ |
| 5 | 等待accessToken即将过期 | - | ❌ |
| 6 | 调用 `POST /api/auth/refresh` | 返回新的accessToken | ❌ |
| 7 | 调用 `POST /api/auth/logout` | 登出成功 | ❌ |
| 8 | 使用旧Token访问API | 返回401 | ❌ |
| 9 | 登出后显示登录页 | 重定向到登录页 | ✅ `logout-redirect.png` |

### 验收标准
- [ ] 登录验证正确
- [ ] Token刷新机制正常
- [ ] 登出后Token失效

---

## 场景1.3: 权限访问控制

### 场景描述
验证不同角色的访问权限控制。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 管理员 | admin (SYS.ADMIN角色) |
| 普通用户 | 场景1.1创建的用户 (无角色) |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 管理员登录 | 成功 | ❌ |
| 2 | 访问管理端点 `GET /api/admin/db/health` | 返回200 | ❌ |
| 3 | 普通用户登录 | 成功 | ❌ |
| 4 | 普通用户访问管理端点 | 返回403 Forbidden | ❌ |
| 5 | 普通用户访问客户列表 | 根据权限返回数据或403 | ❌ |

### 验收标准
- [ ] 管理员拥有全部权限
- [ ] 无权限用户被正确拒绝

---

# 第二部分: 客户管理

## 场景2.1: 客户列表与搜索

### 场景描述
验证客户列表页面的展示、搜索、分页功能。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 预置客户数 | ≥10条 |
| 搜索关键词 | 客户A / CustomerA |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开客户列表页面 | 显示DataGrid，有数据 | ✅ `customer-list.png` |
| 2 | 验证列标题 | 显示Code、Name等字段标签 | ❌ |
| 3 | 点击分页切换 | 加载对应页数据 | ❌ |
| 4 | 输入搜索关键词 | 列表过滤显示匹配记录 | ✅ `customer-search.png` |
| 5 | 清空搜索 | 恢复全部数据 | ❌ |

### 验收标准
- [ ] 列表正常加载
- [ ] 分页功能正常
- [ ] 搜索功能正常

---

## 场景2.2: 客户详情查看

### 场景描述
验证客户详情页面的展示。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试客户 | 列表中第一条记录 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 在列表中点击查看按钮 | 跳转到详情页 | ❌ |
| 2 | 验证详情页布局 | 使用模板渲染，字段正确显示 | ✅ `customer-detail.png` |
| 3 | 验证只读状态 | 字段不可编辑 | ❌ |
| 4 | 点击返回按钮 | 回到列表页 | ❌ |

### 验收标准
- [ ] 详情页正确渲染
- [ ] 数据正确显示

---

## 场景2.3: 客户创建

### 场景描述
验证创建新客户的完整流程。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 客户代码 | C{timestamp} |
| 客户名称 | 测试客户_{uuid} |
| 必填字段 | 根据实体定义 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 点击新建按钮 | 打开创建表单 | ✅ `customer-create-form.png` |
| 2 | 不填写必填字段提交 | 显示验证错误 | ✅ `customer-validation-error.png` |
| 3 | 填写完整信息提交 | 创建成功，显示Toast提示 | ❌ |
| 4 | 验证创建结果 | 在列表中能找到新记录 | ❌ |

### 验收标准
- [ ] 必填验证正常
- [ ] 创建成功后数据持久化
- [ ] 成功提示显示

---

## 场景2.4: 客户编辑

### 场景描述
验证编辑客户信息的流程。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试客户 | 场景2.3创建的客户 |
| 修改字段 | Name → 修改后的名称 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 在列表中点击编辑按钮 | 打开编辑表单 | ✅ `customer-edit-form.png` |
| 2 | 修改Name字段 | 字段值变更 | ❌ |
| 3 | 点击保存 | 保存成功，显示Toast | ❌ |
| 4 | 重新打开详情 | 显示修改后的值 | ❌ |
| 5 | 验证版本号 | version字段递增 | ❌ |

### 验收标准
- [ ] 编辑保存成功
- [ ] 数据正确更新
- [ ] 版本控制正常

---

## 场景2.5: 客户并发编辑冲突

### 场景描述
验证乐观锁机制处理并发编辑冲突。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试客户 | 已存在的客户记录 |
| 模拟场景 | 两个用户同时编辑 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 用户A获取客户(version=1) | 获取成功 | ❌ |
| 2 | 用户B获取同一客户(version=1) | 获取成功 | ❌ |
| 3 | 用户A保存修改 | 保存成功，version=2 | ❌ |
| 4 | 用户B尝试保存(expectedVersion=1) | 返回409 Conflict | ❌ |
| 5 | 前端显示冲突提示 | 提示数据已被他人修改 | ✅ `conflict-error.png` |

### 验收标准
- [ ] 并发冲突正确检测
- [ ] 返回409状态码
- [ ] 前端友好提示

---

# 第三部分: 实体定义系统

## 场景3.1: 查看系统实体

### 场景描述
验证系统预置实体（如Customer）的查看。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 系统实体 | Customer, OrganizationNode, RoleProfile |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开实体定义管理页面 | 显示实体列表 | ✅ `entity-list.png` |
| 2 | 找到Customer实体 | 存在，状态为Published | ❌ |
| 3 | 点击查看详情 | 显示实体字段列表 | ✅ `entity-detail.png` |
| 4 | 验证系统字段标识 | Source=System/Interface字段有特殊标记 | ❌ |
| 5 | 验证系统实体不可删除 | 删除按钮禁用或不显示 | ❌ |

### 验收标准
- [ ] 系统实体正确显示
- [ ] 字段来源正确标识
- [ ] 系统实体受保护

---

## 场景3.2: 创建自定义实体

### 场景描述
验证创建新的自定义实体的完整流程。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 实体名称 | TestEntity_{uuid} |
| 命名空间 | BobCrm.Test |
| 选择接口 | IBaseEntity, IAuditableEntity |
| 自定义字段 | CustomField1(String), CustomField2(Int) |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 点击新建实体按钮 | 打开创建表单 | ✅ `entity-create-form.png` |
| 2 | 填写基本信息 | 表单验证通过 | ❌ |
| 3 | 选择实现接口 | 接口字段自动添加 | ❌ |
| 4 | 添加自定义字段 | 字段添加成功 | ✅ `entity-add-field.png` |
| 5 | 保存实体定义 | 创建成功，状态为Draft | ❌ |
| 6 | 验证实体列表 | 新实体出现在列表中 | ❌ |

### 验收标准
- [ ] 实体创建成功
- [ ] 接口字段自动生成
- [ ] 初始状态为Draft

---

## 场景3.3: 实体发布流程

### 场景描述
验证实体发布（代码生成、编译、DDL执行）的完整流程。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试实体 | 场景3.2创建的实体 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开实体详情页 | 状态显示Draft | ❌ |
| 2 | 点击发布按钮 | 开始发布流程 | ❌ |
| 3 | 等待代码生成 | 生成C#代码成功 | ❌ |
| 4 | 等待编译 | Roslyn编译成功 | ❌ |
| 5 | 等待DDL执行 | 数据库表创建成功 | ❌ |
| 6 | 发布完成 | 状态变为Published | ✅ `entity-published.png` |
| 7 | 验证动态实体可用 | 能通过API查询 | ❌ |

### 验收标准
- [ ] 代码生成成功
- [ ] 编译无错误
- [ ] 数据库表正确创建
- [ ] 状态正确更新

---

## 场景3.4: 实体字段管理

### 场景描述
验证对已有实体添加/修改/删除字段。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试实体 | 场景3.2创建的实体 |
| 新字段 | NewField (String, Required) |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开实体字段管理 | 显示现有字段列表 | ❌ |
| 2 | 添加新字段 | 字段添加成功 | ✅ `field-add.png` |
| 3 | 修改字段属性（如DisplayName） | 修改成功 | ❌ |
| 4 | 删除自定义字段 | 字段标记为软删除 | ❌ |
| 5 | 尝试删除接口字段 | 操作被拒绝 | ❌ |
| 6 | 重新发布实体 | 发布成功，DDL更新 | ❌ |

### 验收标准
- [ ] 字段CRUD正常
- [ ] 接口字段受保护
- [ ] 软删除机制正常

---

# 第四部分: 动态实体操作

## 场景4.1: 动态实体查询

### 场景描述
验证对自定义实体的数据查询。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试实体 | 已发布的自定义实体 |
| 预置数据 | ≥5条记录 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 调用 `POST /api/dynamic-entities/{type}/query` | 返回数据列表 | ❌ |
| 2 | 验证响应结构 | 包含data、meta.fields、total | ❌ |
| 3 | 验证meta.fields | 包含字段元数据 | ❌ |
| 4 | 添加过滤条件查询 | 返回过滤后的数据 | ❌ |
| 5 | 添加排序条件 | 数据正确排序 | ❌ |
| 6 | 分页查询 | skip/take正常工作 | ❌ |

### 验收标准
- [ ] 查询返回正确数据
- [ ] 元数据正确
- [ ] 过滤/排序/分页正常

---

## 场景4.2: 动态实体CRUD

### 场景描述
验证对自定义实体数据的完整CRUD操作。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试实体 | 已发布的自定义实体 |
| 测试数据 | Code: "D001", Name: "测试数据" |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开实体数据列表页 | 显示DataGrid | ✅ `dynamic-list.png` |
| 2 | 点击新建 | 显示创建表单 | ✅ `dynamic-create.png` |
| 3 | 填写并保存 | 创建成功 | ❌ |
| 4 | 查看新建记录详情 | 数据正确显示 | ✅ `dynamic-detail.png` |
| 5 | 编辑记录 | 修改成功 | ✅ `dynamic-edit.png` |
| 6 | 删除记录 | 软删除成功 | ❌ |
| 7 | 验证列表 | 删除的记录不再显示 | ❌ |

### 验收标准
- [ ] CRUD全流程正常
- [ ] 前端表单正确渲染
- [ ] 软删除机制正常

---

# 第五部分: 模板系统

## 场景5.1: 模板列表与管理

### 场景描述
验证模板管理页面的功能。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试实体 | Customer |
| 模板类型 | List, Detail, Edit |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开模板管理页面 | 显示模板列表，按实体分组 | ✅ `template-list.png` |
| 2 | 展开Customer实体 | 显示List/Detail/Edit模板 | ❌ |
| 3 | 验证系统默认模板标识 | isSystemDefault=true的有标记 | ❌ |
| 4 | 点击重新生成默认模板 | 确认对话框 | ✅ `template-regenerate-confirm.png` |
| 5 | 确认重新生成 | 模板更新成功 | ❌ |

### 验收标准
- [ ] 模板列表正确显示
- [ ] 分组功能正常
- [ ] 重新生成功能正常

---

## 场景5.2: 模板设计器

### 场景描述
验证模板设计器的拖拽编辑功能。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试模板 | Customer的Detail模板 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开模板设计器 | 显示设计界面 | ✅ `designer-overview.png` |
| 2 | 查看控件面板 | 显示可用控件列表 | ❌ |
| 3 | 查看实体结构树 | 显示实体字段 | ✅ `designer-entity-tree.png` |
| 4 | 拖拽字段到画布 | 控件添加成功 | ✅ `designer-drag-field.png` |
| 5 | 选中控件查看属性 | 属性面板显示控件属性 | ✅ `designer-properties.png` |
| 6 | 修改控件属性 | 属性保存成功 | ❌ |
| 7 | 保存模板 | 保存成功提示 | ❌ |

### 验收标准
- [ ] 设计器正常加载
- [ ] 拖拽功能正常
- [ ] 属性编辑正常
- [ ] 保存功能正常

---

## 场景5.3: 模板运行时渲染

### 场景描述
验证模板在运行时的正确渲染。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试实体 | Customer |
| 测试记录 | 已存在的客户记录 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开客户列表页 | List模板渲染DataGrid | ✅ `runtime-list.png` |
| 2 | 点击查看详情 | Detail模板渲染表单(只读) | ✅ `runtime-detail.png` |
| 3 | 点击编辑 | Edit模板渲染表单(可编辑) | ✅ `runtime-edit.png` |
| 4 | 验证字段标签 | 显示正确的多语标签 | ❌ |
| 5 | 验证字段控件 | 控件类型正确(文本/下拉等) | ❌ |

### 验收标准
- [ ] 三种模板正确渲染
- [ ] 字段绑定正确
- [ ] 控件类型匹配

---

# 第六部分: 权限管理

## 场景6.1: 角色管理

### 场景描述
验证角色的创建和权限配置。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 角色代码 | TEST.ROLE.{uuid} |
| 角色名称 | 测试角色 |
| 权限 | 客户查看、客户编辑 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开角色管理页面 | 显示角色列表 | ✅ `role-list.png` |
| 2 | 点击新建角色 | 显示创建表单 | ✅ `role-create.png` |
| 3 | 填写角色信息 | 验证通过 | ❌ |
| 4 | 配置功能权限 | 勾选功能节点 | ✅ `role-permissions.png` |
| 5 | 配置字段权限 | 设置字段读写权限 | ✅ `role-field-permissions.png` |
| 6 | 保存角色 | 创建成功 | ❌ |

### 验收标准
- [ ] 角色创建成功
- [ ] 功能权限配置正常
- [ ] 字段权限配置正常

---

## 场景6.2: 用户角色分配

### 场景描述
验证将角色分配给用户。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试用户 | 场景1.1创建的用户 |
| 分配角色 | 场景6.1创建的角色 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开用户管理页面 | 显示用户列表 | ✅ `user-list.png` |
| 2 | 选择测试用户 | 显示用户详情 | ❌ |
| 3 | 分配角色 | 添加角色关联 | ✅ `user-assign-role.png` |
| 4 | 保存 | 分配成功 | ❌ |
| 5 | 使用该用户登录 | 登录成功 | ❌ |
| 6 | 验证功能菜单 | 只显示有权限的菜单 | ✅ `user-menu-filtered.png` |

### 验收标准
- [ ] 角色分配成功
- [ ] 权限生效

---

## 场景6.3: 功能节点管理

### 场景描述
验证功能节点的CRUD操作。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 功能代码 | TEST.FUNC.{uuid} |
| 显示名 | {"zh": "测试功能", "ja": "テスト", "en": "Test"} |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开功能节点管理页面 | 显示功能树 | ✅ `function-tree.png` |
| 2 | 点击新建功能节点 | 显示创建表单 | ✅ `function-create.png` |
| 3 | 填写多语显示名 | 验证通过 | ❌ |
| 4 | 选择父节点 | 设置层级关系 | ❌ |
| 5 | 保存 | 创建成功 | ❌ |
| 6 | 编辑功能节点 | 修改成功 | ❌ |
| 7 | 删除功能节点 | 删除成功(无子节点时) | ❌ |

### 验收标准
- [ ] 功能节点CRUD正常
- [ ] 树形结构正确

---

# 第七部分: 枚举管理

## 场景7.1: 枚举定义管理

### 场景描述
验证枚举定义和选项的管理。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 枚举代码 | test_enum_{uuid} |
| 选项 | Option1, Option2, Option3 |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开枚举管理页面 | 显示枚举列表 | ✅ `enum-list.png` |
| 2 | 查看系统枚举 | view_state等系统枚举存在 | ❌ |
| 3 | 创建新枚举 | 创建成功 | ✅ `enum-create.png` |
| 4 | 添加枚举选项 | 选项添加成功 | ✅ `enum-options.png` |
| 5 | 设置选项多语显示名 | 保存成功 | ❌ |
| 6 | 修改选项排序 | 排序更新成功 | ❌ |
| 7 | 删除选项 | 删除成功 | ❌ |

### 验收标准
- [ ] 枚举CRUD正常
- [ ] 选项管理正常
- [ ] 多语支持正常

---

# 第八部分: 多语言支持

## 场景8.1: 语言切换

### 场景描述
验证前端语言切换功能。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 支持语言 | zh(中文), ja(日语), en(英语) |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 登录系统(默认语言) | 显示默认语言界面 | ✅ `lang-default.png` |
| 2 | 切换到中文 | 界面显示中文 | ✅ `lang-zh.png` |
| 3 | 切换到日语 | 界面显示日语 | ✅ `lang-ja.png` |
| 4 | 切换到英语 | 界面显示英语 | ✅ `lang-en.png` |
| 5 | 刷新页面 | 语言设置保持 | ❌ |
| 6 | 重新登录 | 语言设置保持 | ❌ |

### 验收标准
- [ ] 三语切换正常
- [ ] 语言设置持久化

---

## 场景8.2: API多语参数

### 场景描述
验证API的lang参数支持（ARCH-30功能）。

### 测试数据
| 数据项 | 值 |
|--------|-----|
| 测试端点 | /api/entities, /api/enums, /api/access/functions |

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 调用API无lang参数 | 返回displayNameTranslations字典 | ❌ |
| 2 | 调用API ?lang=zh | 返回displayName中文单语 | ❌ |
| 3 | 调用API ?lang=ja | 返回displayName日语单语 | ❌ |
| 4 | 调用API ?lang=en | 返回displayName英语单语 | ❌ |
| 5 | 验证响应体积 | 单语模式体积更小 | ❌ |

### 验收标准
- [ ] lang参数工作正常
- [ ] 向后兼容

---

# 第九部分: 系统管理

## 场景9.1: 数据库健康检查

### 场景描述
验证管理员数据库管理功能。

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 调用 `GET /api/admin/db/health` | 返回数据库健康状态 | ❌ |
| 2 | 验证连接状态 | status=healthy | ❌ |

### 验收标准
- [ ] 健康检查正常

---

## 场景9.2: 组织架构管理

### 场景描述
验证组织节点的管理。

### 测试流程

| 步骤 | 操作 | 预期结果 | 截图 |
|------|------|----------|------|
| 1 | 打开组织架构页面 | 显示组织树 | ✅ `org-tree.png` |
| 2 | 创建子组织 | 创建成功 | ✅ `org-create.png` |
| 3 | 编辑组织信息 | 修改成功 | ❌ |
| 4 | 验证树形结构 | 层级正确 | ❌ |

### 验收标准
- [ ] 组织CRUD正常
- [ ] 树形结构正确

---

# 执行汇总

## 截图清单

| 编号 | 截图文件 | 场景 | 描述 |
|------|----------|------|------|
| 1 | `register-form.png` | 1.1 | 注册表单 |
| 2 | `first-login.png` | 1.1 | 首次登录 |
| 3 | `login-page.png` | 1.2 | 登录页面 |
| 4 | `logout-redirect.png` | 1.2 | 登出重定向 |
| 5 | `customer-list.png` | 2.1 | 客户列表 |
| 6 | `customer-search.png` | 2.1 | 客户搜索 |
| 7 | `customer-detail.png` | 2.2 | 客户详情 |
| 8 | `customer-create-form.png` | 2.3 | 客户创建表单 |
| 9 | `customer-validation-error.png` | 2.3 | 验证错误 |
| 10 | `customer-edit-form.png` | 2.4 | 客户编辑表单 |
| 11 | `conflict-error.png` | 2.5 | 并发冲突 |
| 12 | `entity-list.png` | 3.1 | 实体列表 |
| 13 | `entity-detail.png` | 3.1 | 实体详情 |
| 14 | `entity-create-form.png` | 3.2 | 实体创建表单 |
| 15 | `entity-add-field.png` | 3.2 | 添加字段 |
| 16 | `entity-published.png` | 3.3 | 实体发布成功 |
| 17 | `field-add.png` | 3.4 | 字段管理 |
| 18 | `dynamic-list.png` | 4.2 | 动态实体列表 |
| 19 | `dynamic-create.png` | 4.2 | 动态实体创建 |
| 20 | `dynamic-detail.png` | 4.2 | 动态实体详情 |
| 21 | `dynamic-edit.png` | 4.2 | 动态实体编辑 |
| 22 | `template-list.png` | 5.1 | 模板列表 |
| 23 | `template-regenerate-confirm.png` | 5.1 | 模板重新生成确认 |
| 24 | `designer-overview.png` | 5.2 | 设计器概览 |
| 25 | `designer-entity-tree.png` | 5.2 | 实体结构树 |
| 26 | `designer-drag-field.png` | 5.2 | 拖拽字段 |
| 27 | `designer-properties.png` | 5.2 | 属性面板 |
| 28 | `runtime-list.png` | 5.3 | 运行时列表 |
| 29 | `runtime-detail.png` | 5.3 | 运行时详情 |
| 30 | `runtime-edit.png` | 5.3 | 运行时编辑 |
| 31 | `role-list.png` | 6.1 | 角色列表 |
| 32 | `role-create.png` | 6.1 | 角色创建 |
| 33 | `role-permissions.png` | 6.1 | 功能权限配置 |
| 34 | `role-field-permissions.png` | 6.1 | 字段权限配置 |
| 35 | `user-list.png` | 6.2 | 用户列表 |
| 36 | `user-assign-role.png` | 6.2 | 用户分配角色 |
| 37 | `user-menu-filtered.png` | 6.2 | 过滤后的菜单 |
| 38 | `function-tree.png` | 6.3 | 功能树 |
| 39 | `function-create.png` | 6.3 | 功能创建 |
| 40 | `enum-list.png` | 7.1 | 枚举列表 |
| 41 | `enum-create.png` | 7.1 | 枚举创建 |
| 42 | `enum-options.png` | 7.1 | 枚举选项 |
| 43 | `lang-default.png` | 8.1 | 默认语言 |
| 44 | `lang-zh.png` | 8.1 | 中文界面 |
| 45 | `lang-ja.png` | 8.1 | 日语界面 |
| 46 | `lang-en.png` | 8.1 | 英语界面 |
| 47 | `org-tree.png` | 9.2 | 组织树 |
| 48 | `org-create.png` | 9.2 | 组织创建 |

## 场景执行清单

### API测试（无截图）
- [ ] 场景1.2: 登录与会话管理
- [ ] 场景1.3: 权限访问控制
- [ ] 场景2.5: 客户并发编辑冲突
- [ ] 场景4.1: 动态实体查询
- [ ] 场景8.2: API多语参数
- [ ] 场景9.1: 数据库健康检查

### UI测试（需截图）
- [ ] 场景1.1: 用户注册流程
- [ ] 场景2.1-2.4: 客户管理
- [ ] 场景3.1-3.4: 实体定义系统
- [ ] 场景4.2: 动态实体CRUD
- [ ] 场景5.1-5.3: 模板系统
- [ ] 场景6.1-6.3: 权限管理
- [ ] 场景7.1: 枚举管理
- [ ] 场景8.1: 语言切换
- [ ] 场景9.2: 组织架构管理

---

**文档版本**: 1.0
**创建日期**: 2025-12-13
**总场景数**: 22个
**预期截图数**: 48张
